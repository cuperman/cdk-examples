version: 1.0
steps:
  clone:
    type: git-clone
    repo: ${{CF_REPO_OWNER}}/${{CF_REPO_NAME}}
    revision: ${{CF_REVISION}}
  build:
    type: freestyle
    image: alpine:3.10
    working_directory: ${{CF_VOLUME_PATH}}/${{CF_REPO_NAME}}
    commands:
      - apk add nodejs npm
      - npm install
      - time npm run --silent cdk -- --app 'npm run ts-node -- ./examples/private-cloud.ts' synth
